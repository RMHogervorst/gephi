<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Write graph objects to a file format that gephi understands • gephi</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Write graph objects to a file format that gephi understands">
<meta property="og:description" content="
    Sometimes you want to visualize your graph information in gephi. 
    Gephi needs certain column names to make sense of the file. 
    This package writes edge and node information to csv files with
    correct names so you can read it in easily with gephi. 
    You can also read the files in with igraph/tidygraph. It makes it 
    much easier to switch between R and gephi. This R-package does not 
    interface with the open source network visualisation tool gephi but it
    writes and reads csv files in a way that gephi expects, reducing the 
    friction when switching between tools.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">gephi</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/RMHogervorst/gephi/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">


<!-- badges: end -->
<!-- README.md is generated from README.Rmd. Please edit that file -->
<div id="gephi" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#gephi" class="anchor"></a>gephi</h1></div>
<p>This is a simple package to export files into a csv format that gephi can understand. This package does not interface with the open source network vizualisation software gephi but it writes and reads in the same csv format as gephi.</p>
<p>I’ve found the need to convert tidygraph/igraph objects into a node and edge csv, to visualize in gephi quite often. This task should be trivial, but gephi is a bit particular and wants specific column names.</p>
<div id="what-does-the-package-do" class="section level2">
<h2 class="hasAnchor">
<a href="#what-does-the-package-do" class="anchor"></a>What does the package do?</h2>
<p>Writes igraph files to csv format that gephi likes. Really? Gephi reads csv files just fine! Sure but it wants the columns in a particular order and named Source, Target etc. Let’s not do this by hand everytime: AUTOMATE THE BORING STUFF! HACK THE PLANET!</p>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>Install this developmental version with:</p>
<div class="sourceCode" id="cb1"><pre class="r"><span class="co"># install.packages("devtools")</span>
<span class="kw pkg">devtools</span><span class="kw ns">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span>(<span class="st">"RMHogervorst/gephi"</span>)</pre></div>
</div>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h2>
<ul>
<li>igraph to csv</li>
<li>tidygraph to csv</li>
<li>dataframe to csv</li>
</ul>
<p>Writing out an igraph file to csv:</p>
<div class="sourceCode" id="cb2"><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">gephi</span>) <span class="co"># includes the graphexample file</span>
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">igraph</span>)
<span class="co">#&gt; </span>
<span class="co">#&gt; Attaching package: 'igraph'</span>
<span class="co">#&gt; The following objects are masked from 'package:stats':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     decompose, spectrum</span>
<span class="co">#&gt; The following object is masked from 'package:base':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     union</span>
<span class="fu"><a href="https://rdrr.io/pkg/igraph/man/V.html">V</a></span>(<span class="no">graphexample</span>)
<span class="co">#&gt; + 5/5 vertices, named, from b833ca0:</span>
<span class="co">#&gt; [1] a d b c f</span>
<span class="fu"><a href="https://rdrr.io/pkg/igraph/man/E.html">E</a></span>(<span class="no">graphexample</span>)
<span class="co">#&gt; + 5/5 edges from b833ca0 (vertex names):</span>
<span class="co">#&gt; [1] a-&gt;b a-&gt;c a-&gt;d d-&gt;b d-&gt;f</span>
<span class="fu"><a href="reference/gephi_write_nodes.html">gephi_write_edges</a></span>(<span class="no">graphexample</span>, <span class="st">"edges.csv"</span>)
<span class="co">#&gt; writing edgesgraphexample</span>
<span class="co">#&gt; to edgefile: edges.csv/n</span></pre></div>
<p>Technically an tidygraph object is also an igraph object so the writing will work the same.</p>
<div class="sourceCode" id="cb3"><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">gephi</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">tidygraph</span>)
<span class="co">#&gt; </span>
<span class="co">#&gt; Attaching package: 'tidygraph'</span>
<span class="co">#&gt; The following object is masked from 'package:igraph':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     groups</span>
<span class="co">#&gt; The following object is masked from 'package:stats':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     filter</span>

(<span class="no">tidy_graphexample</span> <span class="kw">&lt;-</span> <span class="kw pkg">tidygraph</span><span class="kw ns">::</span><span class="fu">as_tbl_graph</span>(<span class="no">graphexample</span>)) <span class="co"># Just to show where this function comes from</span>
<span class="co">#&gt; # A tbl_graph: 5 nodes and 5 edges</span>
<span class="co">#&gt; #</span>
<span class="co">#&gt; # A directed acyclic simple graph with 1 component</span>
<span class="co">#&gt; #</span>
<span class="co">#&gt; # Node Data: 5 x 2 (active)</span>
<span class="co">#&gt;   name  color </span>
<span class="co">#&gt;   &lt;chr&gt; &lt;chr&gt; </span>
<span class="co">#&gt; 1 a     blue  </span>
<span class="co">#&gt; 2 d     red   </span>
<span class="co">#&gt; 3 b     blue  </span>
<span class="co">#&gt; 4 c     blue  </span>
<span class="co">#&gt; 5 f     yellow</span>
<span class="co">#&gt; #</span>
<span class="co">#&gt; # Edge Data: 5 x 3</span>
<span class="co">#&gt;    from    to weight</span>
<span class="co">#&gt;   &lt;int&gt; &lt;int&gt;  &lt;dbl&gt;</span>
<span class="co">#&gt; 1     1     3      1</span>
<span class="co">#&gt; 2     1     4      1</span>
<span class="co">#&gt; 3     1     2      1</span>
<span class="co">#&gt; # … with 2 more rows</span></pre></div>
<p>More specifically if you want to modify your graph and visualize a subset in gephi, here is a tidygraph worked example where I select only the edges that are blue, add a new edge property and write the resulting graph to csv:</p>
<div class="sourceCode" id="cb4"><pre class="r"><span class="no">tidy_graphexample</span> <span class="kw">%&gt;%</span>  <span class="co"># but the igraph object works just as well</span>
    <span class="fu">activate</span>(<span class="no">nodes</span>) <span class="kw">%&gt;%</span>
    <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>(<span class="no">color</span> <span class="kw">==</span> <span class="st">"blue"</span>) <span class="kw">%&gt;%</span>
    <span class="fu">activate</span>(<span class="no">edges</span>) <span class="kw">%&gt;%</span>
    <span class="fu">mutate</span>(<span class="kw">dongle</span> <span class="kw">=</span> <span class="st">"dingle"</span>) <span class="kw">%&gt;%</span>
    <span class="fu"><a href="reference/gephi_write_nodes.html">gephi_write_edges</a></span>(<span class="st">"edges_subset.csv"</span>) <span class="kw">%&gt;%</span>
    <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span>()
<span class="co">#&gt; writing edges.</span>
<span class="co">#&gt; to edgefile: edges_subset.csv/n</span>
<span class="co">#&gt; # A tbl_graph: 3 nodes and 2 edges</span>
<span class="co">#&gt; #</span>
<span class="co">#&gt; # A rooted tree</span>
<span class="co">#&gt; #</span>
<span class="co">#&gt; # Edge Data: 2 x 4 (active)</span>
<span class="co">#&gt;    from    to weight dongle</span>
<span class="co">#&gt;   &lt;int&gt; &lt;int&gt;  &lt;dbl&gt; &lt;chr&gt; </span>
<span class="co">#&gt; 1     1     2      1 dingle</span>
<span class="co">#&gt; 2     1     3      1 dingle</span>
<span class="co">#&gt; #</span>
<span class="co">#&gt; # Node Data: 3 x 2</span>
<span class="co">#&gt;   name  color</span>
<span class="co">#&gt;   &lt;chr&gt; &lt;chr&gt;</span>
<span class="co">#&gt; 1 a     blue </span>
<span class="co">#&gt; 2 b     blue </span>
<span class="co">#&gt; 3 c     blue</span></pre></div>
<p>But is is also possible to write a set of edges when there is no graph object, just a dataframe.</p>
<div class="sourceCode" id="cb5"><pre class="r"><span class="no">a_nice_df</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(
    <span class="kw">start</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">4</span>,<span class="fl">5</span>,<span class="fl">6</span>,<span class="fl">7</span>),
    <span class="kw">finish</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">2</span>,<span class="fl">4</span>,<span class="fl">4</span>,<span class="fl">7</span>,<span class="fl">2</span>,<span class="fl">1</span>,<span class="fl">3</span>),
    <span class="kw">weight</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">6</span>,<span class="fl">1</span>,<span class="fl">1</span>)
)
<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span>(<span class="no">a_nice_df</span>)
<span class="co">#&gt;   start finish weight</span>
<span class="co">#&gt; 1     1      2      1</span>
<span class="co">#&gt; 2     2      4      1</span>
<span class="co">#&gt; 3     3      4      1</span>
<span class="co">#&gt; 4     4      7      2</span>
<span class="co">#&gt; 5     5      2      6</span>
<span class="co">#&gt; 6     6      1      1</span>
<span class="co">#&gt; 7     7      3      1</span>
<span class="fu"><a href="reference/gephi_write_edges_from_df.html">gephi_write_edges_from_df</a></span>(<span class="no">a_nice_df</span>, <span class="kw">path</span> <span class="kw">=</span> <span class="st">"edges2.csv"</span>)
<span class="co">#&gt; writing edges from dataframe to edgefile: edges2.csv</span></pre></div>
<details><p><summary> Test coverage statistics </summary></p>
<div class="sourceCode" id="cb6"><pre class="r"><span class="kw pkg">covr</span><span class="kw ns">::</span><span class="fu"><a href="http://covr.r-lib.org/reference/package_coverage.html">package_coverage</a></span>(<span class="kw">type</span> <span class="kw">=</span> <span class="st">"tests"</span>)
<span class="co">#&gt; </span>
<span class="co">#&gt; files differ in number of lines:</span>
<span class="co">#&gt; gephi Coverage: 32.00%</span>
<span class="co">#&gt; R/writing_tools.R: 18.75%</span>
<span class="co">#&gt; R/utils.R: 42.86%</span>
<span class="co">#&gt; R/read_tools.R: 100.00%</span></pre></div>
</details><details><p><summary> cleaning up after ourselves for this demo </summary></p>
<div class="sourceCode" id="cb7"><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/files.html">file.remove</a></span>(<span class="st">"edges.csv"</span>)
<span class="co">#&gt; [1] TRUE</span>
<span class="fu"><a href="https://rdrr.io/r/base/files.html">file.remove</a></span>(<span class="st">"edges2.csv"</span>)
<span class="co">#&gt; [1] TRUE</span>
<span class="fu"><a href="https://rdrr.io/r/base/files.html">file.remove</a></span>(<span class="st">"edges_subset.csv"</span>)
<span class="co">#&gt; [1] TRUE</span></pre></div>
</details>
</div>
</div>
<div id="links" class="section level1">
<h1 class="hasAnchor">
<a href="#links" class="anchor"></a>Links</h1>
<ul>
<li><a href="https://gephi.org/">Gephi (the graph visualisation software, not this interface) website</a></li>
</ul>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/RMHogervorst/gephi/">https://​github.com/​RMHogervorst/​gephi/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/RMHogervorst/gephi/issues">https://​github.com/​RMHogervorst/​gephi/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Roel M. Hogervorst <br><small class="roles"> Maintainer, author </small> <a href="https://orcid.org/0000-0001-7509-0328" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="http://www.repostatus.org/#active"><img src="http://www.repostatus.org/badges/latest/active.svg" alt="Project Status: Active – The project has reached a stable, usable state and is being actively developed."></a></li>
<li><a href="http://choosealicense.com/"><img src="https://img.shields.io/badge/license-MIT-lightgrey.svg" alt="license"></a></li>
<li><a href="https://www.tidyverse.org/lifecycle/#maturing"><img src="https://img.shields.io/badge/lifecycle-maturing-blue.svg" alt="Lifecycle: maturing"></a></li>
<li><a href="https://codecov.io/gh/RMHogervorst/gephi"><img src="https://codecov.io/gh/RMHogervorst/gephi/branch/master/graph/badge.svg" alt="codecov"></a></li>
<li><a href="https://travis-ci.org/RMHogervorst/gephi"><img src="https://travis-ci.org/RMHogervorst/gephi.svg?branch=master" alt="Build Status"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Roel M. Hogervorst.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
